@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .scrollbar::-webkit-scrollbar {
    width: 20px;
    height: 20px;
  }

  .scrollbar::-webkit-scrollbar-track {
    border-radius: 10px;
  }

  .scrollbar::-webkit-scrollbar-thumb {
    background: #6b7280;
    border-right: 6px solid #334155;
    border-left: 6px solid #334155;
  }

  .scrollbar::-webkit-scrollbar-thumb:hover {
    background: #4b5563;
  }

  .leaflet-container {
    width: 100vw;
    height: 100vh;
  }

  #phaser-container > canvas {
    touch-action: none;
    @apply h-full w-full;
  }

  .screen-container {
    width: 100vw;
    height: 100vh;
  }

  .viewport-container {
    margin-top: env(safe-area-inset-top);
    margin-right: env(safe-area-inset-right);
    /* margin-bottom: env(safe-area-inset-bottom); */
    margin-left: env(safe-area-inset-left);
  }

  .sidebar-icon {
    @apply bg-gray-700 w-12 h-12 mt-3 text-white shadow-xl rounded items-center relative flex justify-center hover:text-yellow-100 focus:text-yellow-300;
  }

  .sidebar-tooltip {
    @apply bg-slate-50 z-[10000] scale-0 inline-block absolute w-auto p-3 m-3 min-w-max left-12 rounded shadow-xl text-gray-700 font-mono font-bold transition-none origin-left;
  }

  .building-tooltip {
    @apply bg-slate-50 z-[10000] scale-0 inline-block absolute w-auto p-3 mt-3 mr-3 mb-3 ml-10 min-w-max rounded shadow-xl text-gray-700 font-mono font-bold;
  }

  .resource-tooltip {
    @apply bg-slate-50 z-[10000] scale-0 inline-block absolute w-auto p-2 mb-3 ml-3 min-w-max rounded shadow-xl text-gray-700 font-mono text-sm font-bold;
  }

  .pixel-images {
    image-rendering: optimizeSpeed; /* Older versions of FF */
    image-rendering: -moz-crisp-edges; /* FF 6.0+ */
    image-rendering: -webkit-optimize-contrast; /* Webkit (non standard naming) */
    image-rendering: -o-crisp-edges; /* OS X & Windows Opera (12.02+) */
    image-rendering: crisp-edges; /* Possible future browsers. */
    -ms-interpolation-mode: nearest-neighbor; /* IE (non standard naming) */
    image-rendering: pixelated;
  }
  /* .react-flow__connection-path {
    @apply bg-white z-[1000] viewport-container text-white
  } */

  .map-container {
    background-color: rgb(100 116 139);
  }

  /* remove outline on waltour tooltip containers */
  #walktour-tooltip-container[tabindex] {
    @apply focus:outline-none;
  }

  /* Note: Any void elements (e.g. img) will need to be wrapped in an element with the class pixel-corners--wrapper
  https://pixelcorners.lukeb.co.uk/?radius=6&multiplier=4&border=1&border_width=1&border_color=#a71616 */
  .pixel-corners,
  .pixel-corners--wrapper {
    clip-path: polygon(
      0px calc(100% - 16px),
      4px calc(100% - 16px),
      4px calc(100% - 8px),
      8px calc(100% - 8px),
      8px calc(100% - 4px),
      16px calc(100% - 4px),
      16px 100%,
      calc(100% - 16px) 100%,
      calc(100% - 16px) calc(100% - 4px),
      calc(100% - 8px) calc(100% - 4px),
      calc(100% - 8px) calc(100% - 8px),
      calc(100% - 4px) calc(100% - 8px),
      calc(100% - 4px) calc(100% - 16px),
      100% calc(100% - 16px),
      100% 16px,
      calc(100% - 4px) 16px,
      calc(100% - 4px) 8px,
      calc(100% - 8px) 8px,
      calc(100% - 8px) 4px,
      calc(100% - 16px) 4px,
      calc(100% - 16px) 0px,
      16px 0px,
      16px 4px,
      8px 4px,
      8px 8px,
      4px 8px,
      4px 16px,
      0px 16px
    );
    position: relative;
  }
  .pixel-corners {
    border: 4px solid transparent;
  }
  .pixel-corners--wrapper {
    width: fit-content;
    height: fit-content;
  }
  .pixel-corners--wrapper .pixel-corners {
    display: block;
    clip-path: polygon(
      4px 16px,
      8px 16px,
      8px 8px,
      16px 8px,
      16px 4px,
      calc(100% - 16px) 4px,
      calc(100% - 16px) 8px,
      calc(100% - 8px) 8px,
      calc(100% - 8px) 16px,
      calc(100% - 4px) 16px,
      calc(100% - 4px) calc(100% - 16px),
      calc(100% - 8px) calc(100% - 16px),
      calc(100% - 8px) calc(100% - 8px),
      calc(100% - 16px) calc(100% - 8px),
      calc(100% - 16px) calc(100% - 4px),
      16px calc(100% - 4px),
      16px calc(100% - 8px),
      8px calc(100% - 8px),
      8px calc(100% - 16px),
      4px calc(100% - 16px)
    );
  }
  .pixel-corners::after,
  .pixel-corners--wrapper::after {
    content: "";
    position: absolute;
    clip-path: polygon(
      0px calc(100% - 16px),
      4px calc(100% - 16px),
      4px calc(100% - 8px),
      8px calc(100% - 8px),
      8px calc(100% - 4px),
      16px calc(100% - 4px),
      16px 100%,
      calc(100% - 16px) 100%,
      calc(100% - 16px) calc(100% - 4px),
      calc(100% - 8px) calc(100% - 4px),
      calc(100% - 8px) calc(100% - 8px),
      calc(100% - 4px) calc(100% - 8px),
      calc(100% - 4px) calc(100% - 16px),
      100% calc(100% - 16px),
      100% 16px,
      calc(100% - 4px) 16px,
      calc(100% - 4px) 8px,
      calc(100% - 8px) 8px,
      calc(100% - 8px) 4px,
      calc(100% - 16px) 4px,
      calc(100% - 16px) 0px,
      16px 0px,
      16px 4px,
      8px 4px,
      8px 8px,
      4px 8px,
      4px 16px,
      0px 16px,
      0px 50%,
      4px 50%,
      4px 16px,
      8px 16px,
      8px 8px,
      16px 8px,
      16px 4px,
      calc(100% - 16px) 4px,
      calc(100% - 16px) 8px,
      calc(100% - 8px) 8px,
      calc(100% - 8px) 16px,
      calc(100% - 4px) 16px,
      calc(100% - 4px) calc(100% - 16px),
      calc(100% - 8px) calc(100% - 16px),
      calc(100% - 8px) calc(100% - 8px),
      calc(100% - 16px) calc(100% - 8px),
      calc(100% - 16px) calc(100% - 4px),
      16px calc(100% - 4px),
      16px calc(100% - 8px),
      8px calc(100% - 8px),
      8px calc(100% - 16px),
      4px calc(100% - 16px),
      4px 50%,
      0px 50%
    );
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    display: block;
    pointer-events: none;
    @apply bg-slate-400;
  }
  .pixel-corners::after {
    margin: -3px;
  }
}

/* remove leaflet layer selection control */
.leaflet-bottom {
  display: none;
}
